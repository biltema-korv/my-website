import{y as Q,i as fe,Z as g,D as Y,j as M,w as se,k as ie,g as G,_ as ue,$ as ve,a0 as te,a1 as J,B as F,v as k,C as de,a2 as ce,p as $,a3 as _e,a4 as p,a5 as q,a6 as H,a7 as K,m as oe,a8 as P,a9 as j,aa as he,ab as ee,ac as me,ad as Ee,ae as U,I as Ae,q as ae,af as Te,A as be,ag as Ie,ah as Se,ai as Ce,aj as we,ak as xe,al as Me,b as Ne,am as De,an as He}from"./3cxH3Z15.js";function Le(e,r){return r}function Re(e,r,a){for(var i=e.items,v=[],f=r.length,u=0;u<f;u++)Ie(r[u].e,v,!0);var c=f>0&&v.length===0&&a!==null;if(c){var T=a.parentNode;Se(T),T.append(a),i.clear(),C(e,r[0].prev,r[f-1].next)}Ce(v,()=>{for(var _=0;_<f;_++){var h=r[_];c||(i.delete(h.k),C(e,h.prev,h.next)),ae(h.e,!c)}})}function Ve(e,r,a,i,v,f=null){var u=e,c={flags:r,items:new Map,first:null},T=(r&g)!==0;if(T){var _=e;u=M?Y(se(_)):_.appendChild(Q())}M&&ie();var h=null,x=!1,b=new Map,N=ue(()=>{var o=a();return he(o)?o:o==null?[]:j(o)}),n,d;function t(){Oe(d,n,c,b,u,v,r,i,a),f!==null&&(n.length===0?h?ee(h):h=$(()=>f(u)):h!==null&&me(h,()=>{h=null}))}fe(()=>{d??=we,n=G(N);var o=n.length;if(x&&o===0)return;x=o===0;let A=!1;if(M){var I=ve(u)===te;I!==(o===0)&&(u=J(),Y(u),F(!1),A=!0)}if(M){for(var w=null,m,l=0;l<o;l++){if(k.nodeType===de&&k.data===ce){u=k,A=!0,F(!1);break}var s=n[l],E=i(s,l);m=z(k,c,w,null,s,E,l,v,r,a),c.items.set(E,m),w=m}o>0&&Y(J())}if(M)o===0&&f&&(h=$(()=>f(u)));else if(_e()){var R=new Set,L=H;for(l=0;l<o;l+=1){s=n[l],E=i(s,l);var D=c.items.get(E)??b.get(E);D?(r&(p|q))!==0&&re(D,s,l,r):(m=z(null,c,null,null,s,E,l,v,r,a,!0),b.set(E,m)),R.add(E)}for(const[S,V]of c.items)R.has(S)||L.skipped_effects.add(V.e);L.add_callback(t)}else t();A&&F(!0),G(N)}),M&&(u=k)}function Oe(e,r,a,i,v,f,u,c,T){var _=(u&Te)!==0,h=(u&(p|q))!==0,x=r.length,b=a.items,N=a.first,n=N,d,t=null,o,A=[],I=[],w,m,l,s;if(_)for(s=0;s<x;s+=1)w=r[s],m=c(w,s),l=b.get(m),l!==void 0&&(l.a?.measure(),(o??=new Set).add(l));for(s=0;s<x;s+=1){if(w=r[s],m=c(w,s),l=b.get(m),l===void 0){var E=i.get(m);if(E!==void 0){i.delete(m),b.set(m,E);var R=t?t.next:n;C(a,t,E),C(a,E,R),W(E,R,v),t=E}else{var L=n?n.e.nodes_start:v;t=z(L,a,t,t===null?a.first:t.next,w,m,s,f,u,T)}b.set(m,t),A=[],I=[],n=t.next;continue}if(h&&re(l,w,s,u),(l.e.f&U)!==0&&(ee(l.e),_&&(l.a?.unfix(),(o??=new Set).delete(l))),l!==n){if(d!==void 0&&d.has(l)){if(A.length<I.length){var D=I[0],S;t=D.prev;var V=A[0],y=A[A.length-1];for(S=0;S<A.length;S+=1)W(A[S],D,v);for(S=0;S<I.length;S+=1)d.delete(I[S]);C(a,V.prev,y.next),C(a,t,V),C(a,y,D),n=D,t=y,s-=1,A=[],I=[]}else d.delete(l),W(l,n,v),C(a,l.prev,l.next),C(a,l,t===null?a.first:t.next),C(a,t,l),t=l;continue}for(A=[],I=[];n!==null&&n.k!==m;)(n.e.f&U)===0&&(d??=new Set).add(n),I.push(n),n=n.next;if(n===null)continue;l=n}A.push(l),t=l,n=l.next}if(n!==null||d!==void 0){for(var O=d===void 0?[]:j(d);n!==null;)(n.e.f&U)===0&&O.push(n),n=n.next;var B=O.length;if(B>0){var le=(u&g)!==0&&x===0?v:null;if(_){for(s=0;s<B;s+=1)O[s].a?.measure();for(s=0;s<B;s+=1)O[s].a?.fix()}Re(a,O,le)}}_&&Ae(()=>{if(o!==void 0)for(l of o)l.a?.apply()}),e.first=a.first&&a.first.e,e.last=t&&t.e;for(var ne of i.values())ae(ne.e);i.clear()}function re(e,r,a,i){(i&p)!==0&&K(e.v,r),(i&q)!==0?K(e.i,a):e.i=a}function z(e,r,a,i,v,f,u,c,T,_,h){var x=(T&p)!==0,b=(T&Ee)===0,N=x?b?oe(v,!1,!1):P(v):v,n=(T&q)===0?u:P(u),d={i:n,v:N,k:f,a:null,e:null,prev:a,next:i};try{if(e===null){var t=document.createDocumentFragment();t.append(e=Q())}return d.e=$(()=>c(e,N,n,_),M),d.e.prev=a&&a.e,d.e.next=i&&i.e,a===null?h||(r.first=d):(a.next=d,a.e.next=d.e),i!==null&&(i.prev=d,i.e.prev=d.e),d}finally{}}function W(e,r,a){for(var i=e.next?e.next.e.nodes_start:a,v=r?r.e.nodes_start:a,f=e.e.nodes_start;f!==null&&f!==i;){var u=be(f);v.before(f),f=u}}function C(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function pe(e,r,a=r){var i=new WeakSet;xe(e,"input",async v=>{var f=v?e.defaultValue:e.value;if(f=X(e)?Z(f):f,a(f),H!==null&&i.add(H),await Me(),f!==(f=r())){var u=e.selectionStart,c=e.selectionEnd,T=e.value.length;if(e.value=f??"",c!==null){var _=e.value.length;u===c&&c===T&&_>T?(e.selectionStart=_,e.selectionEnd=_):(e.selectionStart=u,e.selectionEnd=Math.min(c,_))}}}),(M&&e.defaultValue!==e.value||Ne(r)==null&&e.value)&&(a(X(e)?Z(e.value):e.value),H!==null&&i.add(H)),De(()=>{var v=r();if(e===document.activeElement){var f=He??H;if(i.has(f))return}X(e)&&v===Z(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function X(e){var r=e.type;return r==="number"||r==="range"}function Z(e){return e===""?null:+e}export{pe as b,Ve as e,Le as i};
