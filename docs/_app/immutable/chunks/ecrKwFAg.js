import{y as Q,i as ne,X as g,D as B,j as M,w as se,k as ie,g as G,Y as ue,Z as ve,_ as te,$ as J,B as X,v as k,C as de,a0 as ce,p as $,a1 as _e,a2 as p,a3 as q,a4 as H,a5 as K,m as oe,a6 as P,a7 as j,a8 as he,a9 as ee,aa as me,ab as Ee,ac as F,I as Ae,q as ae,ad as Te,A as be,ae as Ie,af as Se,ag as Ce,ah as we,ai as xe,aj as Me,b as Ne,ak as De,al as He}from"./D5Oy-6lV.js";function Le(e,r){return r}function Re(e,r,a){for(var i=e.items,v=[],n=r.length,u=0;u<n;u++)Ie(r[u].e,v,!0);var c=n>0&&v.length===0&&a!==null;if(c){var T=a.parentNode;Se(T),T.append(a),i.clear(),C(e,r[0].prev,r[n-1].next)}Ce(v,()=>{for(var _=0;_<n;_++){var h=r[_];c||(i.delete(h.k),C(e,h.prev,h.next)),ae(h.e,!c)}})}function Ve(e,r,a,i,v,n=null){var u=e,c={flags:r,items:new Map,first:null},T=(r&g)!==0;if(T){var _=e;u=M?B(se(_)):_.appendChild(Q())}M&&ie();var h=null,x=!1,b=new Map,N=ue(()=>{var o=a();return he(o)?o:o==null?[]:j(o)}),f,d;function t(){Oe(d,f,c,b,u,v,r,i,a),n!==null&&(f.length===0?h?ee(h):h=$(()=>n(u)):h!==null&&me(h,()=>{h=null}))}ne(()=>{d??=we,f=G(N);var o=f.length;if(x&&o===0)return;x=o===0;let A=!1;if(M){var I=ve(u)===te;I!==(o===0)&&(u=J(),B(u),X(!1),A=!0)}if(M){for(var w=null,m,l=0;l<o;l++){if(k.nodeType===de&&k.data===ce){u=k,A=!0,X(!1);break}var s=f[l],E=i(s,l);m=z(k,c,w,null,s,E,l,v,r,a),c.items.set(E,m),w=m}o>0&&B(J())}if(M)o===0&&n&&(h=$(()=>n(u)));else if(_e()){var R=new Set,L=H;for(l=0;l<o;l+=1){s=f[l],E=i(s,l);var D=c.items.get(E)??b.get(E);D?(r&(p|q))!==0&&re(D,s,l,r):(m=z(null,c,null,null,s,E,l,v,r,a,!0),b.set(E,m)),R.add(E)}for(const[S,V]of c.items)R.has(S)||L.skipped_effects.add(V.e);L.add_callback(t)}else t();A&&X(!0),G(N)}),M&&(u=k)}function Oe(e,r,a,i,v,n,u,c,T){var _=(u&Te)!==0,h=(u&(p|q))!==0,x=r.length,b=a.items,N=a.first,f=N,d,t=null,o,A=[],I=[],w,m,l,s;if(_)for(s=0;s<x;s+=1)w=r[s],m=c(w,s),l=b.get(m),l!==void 0&&(l.a?.measure(),(o??=new Set).add(l));for(s=0;s<x;s+=1){if(w=r[s],m=c(w,s),l=b.get(m),l===void 0){var E=i.get(m);if(E!==void 0){i.delete(m),b.set(m,E);var R=t?t.next:f;C(a,t,E),C(a,E,R),U(E,R,v),t=E}else{var L=f?f.e.nodes_start:v;t=z(L,a,t,t===null?a.first:t.next,w,m,s,n,u,T)}b.set(m,t),A=[],I=[],f=t.next;continue}if(h&&re(l,w,s,u),(l.e.f&F)!==0&&(ee(l.e),_&&(l.a?.unfix(),(o??=new Set).delete(l))),l!==f){if(d!==void 0&&d.has(l)){if(A.length<I.length){var D=I[0],S;t=D.prev;var V=A[0],y=A[A.length-1];for(S=0;S<A.length;S+=1)U(A[S],D,v);for(S=0;S<I.length;S+=1)d.delete(I[S]);C(a,V.prev,y.next),C(a,t,V),C(a,y,D),f=D,t=y,s-=1,A=[],I=[]}else d.delete(l),U(l,f,v),C(a,l.prev,l.next),C(a,l,t===null?a.first:t.next),C(a,t,l),t=l;continue}for(A=[],I=[];f!==null&&f.k!==m;)(f.e.f&F)===0&&(d??=new Set).add(f),I.push(f),f=f.next;if(f===null)continue;l=f}A.push(l),t=l,f=l.next}if(f!==null||d!==void 0){for(var O=d===void 0?[]:j(d);f!==null;)(f.e.f&F)===0&&O.push(f),f=f.next;var Y=O.length;if(Y>0){var le=(u&g)!==0&&x===0?v:null;if(_){for(s=0;s<Y;s+=1)O[s].a?.measure();for(s=0;s<Y;s+=1)O[s].a?.fix()}Re(a,O,le)}}_&&Ae(()=>{if(o!==void 0)for(l of o)l.a?.apply()}),e.first=a.first&&a.first.e,e.last=t&&t.e;for(var fe of i.values())ae(fe.e);i.clear()}function re(e,r,a,i){(i&p)!==0&&K(e.v,r),(i&q)!==0?K(e.i,a):e.i=a}function z(e,r,a,i,v,n,u,c,T,_,h){var x=(T&p)!==0,b=(T&Ee)===0,N=x?b?oe(v,!1,!1):P(v):v,f=(T&q)===0?u:P(u),d={i:f,v:N,k:n,a:null,e:null,prev:a,next:i};try{if(e===null){var t=document.createDocumentFragment();t.append(e=Q())}return d.e=$(()=>c(e,N,f,_),M),d.e.prev=a&&a.e,d.e.next=i&&i.e,a===null?h||(r.first=d):(a.next=d,a.e.next=d.e),i!==null&&(i.prev=d,i.e.prev=d.e),d}finally{}}function U(e,r,a){for(var i=e.next?e.next.e.nodes_start:a,v=r?r.e.nodes_start:a,n=e.e.nodes_start;n!==null&&n!==i;){var u=be(n);v.before(n),n=u}}function C(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function pe(e,r,a=r){var i=new WeakSet;xe(e,"input",async v=>{var n=v?e.defaultValue:e.value;if(n=W(e)?Z(n):n,a(n),H!==null&&i.add(H),await Me(),n!==(n=r())){var u=e.selectionStart,c=e.selectionEnd,T=e.value.length;if(e.value=n??"",c!==null){var _=e.value.length;u===c&&c===T&&_>T?(e.selectionStart=_,e.selectionEnd=_):(e.selectionStart=u,e.selectionEnd=Math.min(c,_))}}}),(M&&e.defaultValue!==e.value||Ne(r)==null&&e.value)&&(a(W(e)?Z(e.value):e.value),H!==null&&i.add(H)),De(()=>{var v=r();if(e===document.activeElement){var n=He??H;if(i.has(n))return}W(e)&&v===Z(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function W(e){var r=e.type;return r==="number"||r==="range"}function Z(e){return e===""?null:+e}export{pe as b,Ve as e,Le as i};
